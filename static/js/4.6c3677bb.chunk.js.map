{"version":3,"sources":["components/common/FormControls/FormControls.module.css","utils/validators/index.js","components/common/FormControls/FormControls.jsx","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/MyPosts/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/MyPosts/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","required","value","maxLength","maxL","length","Element","input","meta","touched","error","props","hasError","className","style","formControl","Textarea","Input","CreateField","type","name","placeholder","validators","component","text","validate","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","Post","s","post","message","maxLength400","MyPostReduxForm","reduxForm","form","onSubmit","handleSubmit","addPost","Field","cols","rows","MyPosts","myPostArr","posts","map","p","likesCount","likesCounts","myPosts","postHeader","data","newPostText","MyPostsContainer","connect","state","ProfilePage","dispatch","addPostActionCreator","ProfileStatus","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateUserStatus","ProfileInfo","profile","profileInfo","blockDescription","src","photos","large","Preloader","Profile","ProfileContainer","render","userId","this","match","params","authorizedUserId","history","getUserProfile","getUserStatus","React","Component","compose","withRouter","Auth"],"mappings":"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","file":"static/js/4.6c3677bb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2axsW\",\"error\":\"FormControls_error__24y5C\",\"formSummaryError\":\"FormControls_formSummaryError__kXbFS\"};","export const required = (value) => {\n  if (value) return undefined;\n  return \"Field is required\";\n};\n\nexport const maxLength = (maxL) => (value) => {\n  if (value.length > maxL) return `Max length is ${maxL} simbols`;\n  return undefined;\n};\n","import React from \"react\";\nimport style from \"./FormControls.module.css\";\nimport { Field } from \"redux-form\";\n\nconst Element =\n  (Element) =>\n  ({ input, meta: { touched, error }, ...props }) => {\n    const hasError = touched && error;\n    return (\n      <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\n        <div>\n          <Element {...input} {...props} />\n        </div>\n        {hasError && <span>{error}</span>}\n      </div>\n    );\n  };\n\nexport const Textarea = Element(\"textarea\");\n\nexport const Input = Element(\"input\");\n\nexport const CreateField = (\n  type,\n  name,\n  placeholder,\n  validators,\n  component,\n  props = {},\n  text = \"\"\n) => {\n  return (\n    <div>\n      <Field\n        type={type}\n        name={name}\n        placeholder={placeholder}\n        component={component}\n        validate={validators}\n        {...props}\n      />\n      {text}\n    </div>\n  );\n};\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"MyPosts_content__1JseI\",\"postHeader\":\"MyPosts_postHeader__1kBDI\",\"addPost\":\"MyPosts_addPost__qj3M7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__A0EJd\"};","import React from \"react\";\nimport s from \"./Post.module.css\";\n\nconst Post = (props) => {\n  return <div className={s.post}>{props.message}</div>;\n};\n\nexport default Post;\n","import React from \"react\";\nimport s from \"./MyPosts.module.css\";\nimport Post from \"./Post/Post\";\nimport { reduxForm, Field } from \"redux-form\";\nimport { maxLength, required } from \"../../../utils/validators\";\nimport { Textarea } from \"../../common/FormControls/FormControls\";\n\nconst MyPosts = (props) => {\n  let myPostArr = props.posts.map((p) => (\n    <Post message={p.message} likesCount={p.likesCounts} />\n  ));\n\n  const addPostText = (data) => {\n    props.addPost(data.newPostText);\n  };\n\n  return (\n    <div className={s.myPosts}>\n      <div className={s.postHeader}>My posts</div>\n      <div>{myPostArr}</div>\n      <MyPostReduxForm onSubmit={addPostText} />\n    </div>\n  );\n};\n\nconst maxLength400 = maxLength(400);\n\nconst MyPostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit} className={s.addPost}>\n      <Field\n        cols=\"40\"\n        rows=\"2\"\n        name=\"newPostText\"\n        component={Textarea}\n        validate={[required, maxLength400]}\n      />\n      <button>Add button</button>\n    </form>\n  );\n};\n\nconst MyPostReduxForm = reduxForm({\n  form: \"ProfileForm\",\n})(MyPostForm);\n\nexport default MyPosts;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { addPostActionCreator } from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\n\nconst mapStateToProps = (state) => {\n  return {\n    posts: state.ProfilePage.posts,\n    newPostText: state.ProfilePage.newPostText,\n  };\n};\nconst mapDispatchToPtops = (dispatch) => {\n  return {\n    addPost: (newPostText) => {\n      dispatch(addPostActionCreator(newPostText));\n    },\n  };\n};\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToPtops)(MyPosts);\n\nexport default MyPostsContainer;\n","import React from \"react\";\nimport { useState, useEffect } from \"react\";\n\nconst ProfileStatus = (props) => {\n  const [editMode, setEditMode] = useState(false);\n  const [status, setStatus] = useState(props.status);\n\n  useEffect(() => {\n    setStatus(props.status);\n  }, [props.status]);\n\n  const activateEditMode = () => {\n    setEditMode(true);\n  };\n\n  const deactivateEditMode = () => {\n    setEditMode(false);\n    props.updateUserStatus(status);\n  };\n\n  const onStatusChange = (e) => {\n    setStatus(e.currentTarget.value);\n  };\n\n  return (\n    <>\n      {!editMode && (\n        <div>\n          <span onDoubleClick={activateEditMode}>{status || \"...\"}</span>\n        </div>\n      )}\n      {editMode && (\n        <div>\n          <input\n            onChange={onStatusChange}\n            autoFocus={true}\n            onBlur={deactivateEditMode}\n            value={status}\n          />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProfileStatus;\n","import React from \"react\";\nimport Preloader from \"../../../common/preloader/Preloader\";\nimport s from \"./ProfileInfo.module.css\";\nimport ProfileStatus from \"./ProfileStatus/ProfileStatus.jsx\";\n\nconst ProfileInfo = (props) => {\n  if (!props.profile) return <Preloader />;\n\n  return (\n    <div className={s.profileInfo}>\n      <div className={s.blockDescription}>\n        <img src={props.profile.photos.large} />\n        <div>\n          <ProfileStatus\n            status={props.status}\n            updateUserStatus={props.updateUserStatus}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileInfo;\n","import React from \"react\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\nimport ProfileInfo from \"./MyPosts/ProfileInfo/ProfileInfo\";\n\nconst Profile = (props) => {\n  return (\n    <div>\n      <ProfileInfo\n        profile={props.profile}\n        status={props.status}\n        updateUserStatus={props.updateUserStatus}\n      />\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport { compose } from \"redux\";\nimport {\n  getUserProfile,\n  getUserStatus,\n  updateUserStatus,\n} from \"../../redux/profile-reducer\";\nimport Profile from \"./Profile\";\n\nclass ProfileContainer extends React.Component {\n  componentDidMount() {\n    let userId = this.props.match.params.userId;\n    if (!userId) {\n      userId = this.props.authorizedUserId || this.props.history.push(\"/login\");\n    }\n    this.props.getUserProfile(userId);\n    this.props.getUserStatus(userId);\n  }\n  render = () => {\n    return <Profile {...this.props} />;\n  };\n}\n\nconst mapStateToProps = (state) => ({\n  profile: state.ProfilePage.profile,\n  status: state.ProfilePage.status,\n  authorizedUserId: state.Auth.userId,\n});\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, { getUserProfile, getUserStatus, updateUserStatus })\n)(ProfileContainer);\n"],"sourceRoot":""}